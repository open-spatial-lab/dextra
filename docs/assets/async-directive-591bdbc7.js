import{T as H}from"./lit-element-47511895.js";import{e as I,i as k,t as w}from"./directive-12249aa5.js";import{m as b,f as A,c as _,p as m,a as T,e as z}from"./directive-helpers-874877ed.js";/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const g=(t,e,s)=>{const i=new Map;for(let o=e;o<=s;o++)i.set(t[o],o);return i},E=I(class extends k{constructor(t){if(super(t),t.type!==w.CHILD)throw Error("repeat() can only be used in text expressions")}ct(t,e,s){let i;s===void 0?s=e:e!==void 0&&(i=e);const o=[],n=[];let c=0;for(const d of t)o[c]=i?i(d,c):c,n[c]=s(d,c),c++;return{values:n,keys:o}}render(t,e,s){return this.ct(t,e,s).values}update(t,[e,s,i]){var o;const n=b(t),{values:c,keys:d}=this.ct(e,s,i);if(!Array.isArray(n))return this.ut=d,c;const a=(o=this.ut)!==null&&o!==void 0?o:this.ut=[],$=[];let p,N,l=0,h=n.length-1,r=0,u=c.length-1;for(;l<=h&&r<=u;)if(n[l]===null)l++;else if(n[h]===null)h--;else if(a[l]===d[r])$[r]=A(n[l],c[r]),l++,r++;else if(a[h]===d[u])$[u]=A(n[h],c[u]),h--,u--;else if(a[l]===d[u])$[u]=A(n[l],c[u]),_(t,$[u+1],n[l]),l++,u--;else if(a[h]===d[r])$[r]=A(n[h],c[r]),_(t,n[l],n[h]),h--,r++;else if(p===void 0&&(p=g(d,r,u),N=g(a,l,h)),p.has(a[l]))if(p.has(a[h])){const f=N.get(d[r]),C=f!==void 0?n[f]:null;if(C===null){const x=_(t,n[l]);A(x,c[r]),$[r]=x}else $[r]=A(C,c[r]),_(t,n[l],C),n[f]=null;r++}else m(n[h]),h--;else m(n[l]),l++;for(;r<=u;){const f=_(t,$[u+1]);A(f,c[r]),$[r++]=f}for(;l<=h;){const f=n[l++];f!==null&&m(f)}return this.ut=d,T(t,$),H}});/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const v=(t,e)=>{var s,i;const o=t._$AN;if(o===void 0)return!1;for(const n of o)(i=(s=n)._$AO)===null||i===void 0||i.call(s,e,!1),v(n,e);return!0},y=t=>{let e,s;do{if((e=t._$AM)===void 0)break;s=e._$AN,s.delete(t),t=e}while((s==null?void 0:s.size)===0)},M=t=>{for(let e;e=t._$AM;t=e){let s=e._$AN;if(s===void 0)e._$AN=s=new Set;else if(s.has(t))break;s.add(t),O(e)}};function D(t){this._$AN!==void 0?(y(this),this._$AM=t,M(this)):this._$AM=t}function L(t,e=!1,s=0){const i=this._$AH,o=this._$AN;if(o!==void 0&&o.size!==0)if(e)if(Array.isArray(i))for(let n=s;n<i.length;n++)v(i[n],!1),y(i[n]);else i!=null&&(v(i,!1),y(i));else v(this,t)}const O=t=>{var e,s,i,o;t.type==w.CHILD&&((e=(i=t)._$AP)!==null&&e!==void 0||(i._$AP=L),(s=(o=t)._$AQ)!==null&&s!==void 0||(o._$AQ=D))};class S extends k{constructor(){super(...arguments),this._$AN=void 0}_$AT(e,s,i){super._$AT(e,s,i),M(this),this.isConnected=e._$AU}_$AO(e,s=!0){var i,o;e!==this.isConnected&&(this.isConnected=e,e?(i=this.reconnected)===null||i===void 0||i.call(this):(o=this.disconnected)===null||o===void 0||o.call(this)),s&&(v(this,e),y(this))}setValue(e){if(z(this._$Ct))this._$Ct._$AI(e,this);else{const s=[...this._$Ct._$AH];s[this._$Ci]=e,this._$Ct._$AI(s,this,0)}}disconnected(){}reconnected(){}}export{E as a,S as c};
//# sourceMappingURL=async-directive-591bdbc7.js.map
