import{P as $}from"./PlotMark-3b7eceed.js";import{s as A,n as r}from"./safeCustomElement-f1504f3f.js";import{i as k}from"./converters-40be0569.js";import{aS as O,b as D,i as F,M as Q,ah as tt,aJ as it,d as st,e as nt,f as et,aT as _t,g as ht,aj as ot,aU as rt,D as at,a8 as M,aV as z,aW as ct}from"./Plot-e459c07e.js";import{a as S,s as lt}from"./line-9121e799.js";import{m as ut,d as pt}from"./bin-007f1e6b.js";class X{constructor(i,s){this._context=i,this._x=s}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(i,s){switch(i=+i,s=+s,this._point){case 0:{this._point=1,this._line?this._context.lineTo(i,s):this._context.moveTo(i,s);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+i)/2,this._y0,this._x0,s,i,s):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+s)/2,i,this._y0,i,s);break}}this._x0=i,this._y0=s}}function ft(t){return new X(t,!0)}function xt(t){return new X(t,!1)}function u(){}function b(t,i,s){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+i)/6,(t._y0+4*t._y1+s)/6)}function w(t){this._context=t}w.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:b(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:b(this,t,i);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i}};function yt(t){return new w(t)}function Y(t){this._context=t}Y.prototype={areaStart:u,areaEnd:u,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._x2=t,this._y2=i;break;case 1:this._point=2,this._x3=t,this._y3=i;break;case 2:this._point=3,this._x4=t,this._y4=i,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+i)/6);break;default:b(this,t,i);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i}};function bt(t){return new Y(t)}function I(t){this._context=t}I.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var s=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+i)/6;this._line?this._context.lineTo(s,n):this._context.moveTo(s,n);break;case 3:this._point=4;default:b(this,t,i);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i}};function dt(t){return new I(t)}function q(t,i){this._basis=new w(t),this._beta=i}q.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,i=this._y,s=t.length-1;if(s>0)for(var n=t[0],e=i[0],_=t[s]-n,h=i[s]-e,o=-1,a;++o<=s;)a=o/s,this._basis.point(this._beta*t[o]+(1-this._beta)*(n+a*_),this._beta*i[o]+(1-this._beta)*(e+a*h));this._x=this._y=null,this._basis.lineEnd()},point:function(t,i){this._x.push(+t),this._y.push(+i)}};const mt=function t(i){function s(n){return i===1?new w(n):new q(n,i)}return s.beta=function(n){return t(+n)},s}(.85);function d(t,i,s){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-i),t._y2+t._k*(t._y1-s),t._x2,t._y2)}function C(t,i){this._context=t,this._k=(1-i)/6}C.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:d(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2,this._x1=t,this._y1=i;break;case 2:this._point=3;default:d(this,t,i);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const vt=function t(i){function s(n){return new C(n,i)}return s.tension=function(n){return t(+n)},s}(0);function P(t,i){this._context=t,this._k=(1-i)/6}P.prototype={areaStart:u,areaEnd:u,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._x3=t,this._y3=i;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=i);break;case 2:this._point=3,this._x5=t,this._y5=i;break;default:d(this,t,i);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const kt=function t(i){function s(n){return new P(n,i)}return s.tension=function(n){return t(+n)},s}(0);function E(t,i){this._context=t,this._k=(1-i)/6}E.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:d(this,t,i);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const wt=function t(i){function s(n){return new E(n,i)}return s.tension=function(n){return t(+n)},s}(0);function g(t,i,s){var n=t._x1,e=t._y1,_=t._x2,h=t._y2;if(t._l01_a>O){var o=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,a=3*t._l01_a*(t._l01_a+t._l12_a);n=(n*o-t._x0*t._l12_2a+t._x2*t._l01_2a)/a,e=(e*o-t._y0*t._l12_2a+t._y2*t._l01_2a)/a}if(t._l23_a>O){var y=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,l=3*t._l23_a*(t._l23_a+t._l12_a);_=(_*y+t._x1*t._l23_2a-i*t._l12_2a)/l,h=(h*y+t._y1*t._l23_2a-s*t._l12_2a)/l}t._context.bezierCurveTo(n,e,_,h,t._x2,t._y2)}function G(t,i){this._context=t,this._alpha=i}G.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){if(t=+t,i=+i,this._point){var s=this._x2-t,n=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(s*s+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3;default:g(this,t,i);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const Tt=function t(i){function s(n){return i?new G(n,i):new C(n,0)}return s.alpha=function(n){return t(+n)},s}(.5);function J(t,i){this._context=t,this._alpha=i}J.prototype={areaStart:u,areaEnd:u,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,i){if(t=+t,i=+i,this._point){var s=this._x2-t,n=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(s*s+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=i;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=i);break;case 2:this._point=3,this._x5=t,this._y5=i;break;default:g(this,t,i);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const Nt=function t(i){function s(n){return i?new J(n,i):new P(n,0)}return s.alpha=function(n){return t(+n)},s}(.5);function W(t,i){this._context=t,this._alpha=i}W.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){if(t=+t,i=+i,this._point){var s=this._x2-t,n=this._y2-i;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(s*s+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:g(this,t,i);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=i}};const St=function t(i){function s(n){return i?new W(n,i):new E(n,0)}return s.alpha=function(n){return t(+n)},s}(.5);function U(t){this._context=t}U.prototype={areaStart:u,areaEnd:u,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,i){t=+t,i=+i,this._point?this._context.lineTo(t,i):(this._point=1,this._context.moveTo(t,i))}};function Ct(t){return new U(t)}function R(t){return t<0?-1:1}function L(t,i,s){var n=t._x1-t._x0,e=i-t._x1,_=(t._y1-t._y0)/(n||e<0&&-0),h=(s-t._y1)/(e||n<0&&-0),o=(_*e+h*n)/(n+e);return(R(_)+R(h))*Math.min(Math.abs(_),Math.abs(h),.5*Math.abs(o))||0}function j(t,i){var s=t._x1-t._x0;return s?(3*(t._y1-t._y0)/s-i)/2:i}function N(t,i,s){var n=t._x0,e=t._y0,_=t._x1,h=t._y1,o=(_-n)/3;t._context.bezierCurveTo(n+o,e+o*i,_-o,h-o*s,_,h)}function m(t){this._context=t}m.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:N(this,this._t0,j(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,i){var s=NaN;if(t=+t,i=+i,!(t===this._x1&&i===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;break;case 2:this._point=3,N(this,j(this,s=L(this,t,i)),s);break;default:N(this,this._t0,s=L(this,t,i));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=i,this._t0=s}}};function V(t){this._context=new Z(t)}(V.prototype=Object.create(m.prototype)).point=function(t,i){m.prototype.point.call(this,i,t)};function Z(t){this._context=t}Z.prototype={moveTo:function(t,i){this._context.moveTo(i,t)},closePath:function(){this._context.closePath()},lineTo:function(t,i){this._context.lineTo(i,t)},bezierCurveTo:function(t,i,s,n,e,_){this._context.bezierCurveTo(i,t,n,s,_,e)}};function Pt(t){return new m(t)}function Et(t){return new V(t)}function H(t){this._context=t}H.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,i=this._y,s=t.length;if(s)if(this._line?this._context.lineTo(t[0],i[0]):this._context.moveTo(t[0],i[0]),s===2)this._context.lineTo(t[1],i[1]);else for(var n=B(t),e=B(i),_=0,h=1;h<s;++_,++h)this._context.bezierCurveTo(n[0][_],e[0][_],n[1][_],e[1][_],t[h],i[h]);(this._line||this._line!==0&&s===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,i){this._x.push(+t),this._y.push(+i)}};function B(t){var i,s=t.length-1,n,e=new Array(s),_=new Array(s),h=new Array(s);for(e[0]=0,_[0]=2,h[0]=t[0]+2*t[1],i=1;i<s-1;++i)e[i]=1,_[i]=4,h[i]=4*t[i]+2*t[i+1];for(e[s-1]=2,_[s-1]=7,h[s-1]=8*t[s-1]+t[s],i=1;i<s;++i)n=e[i]/_[i-1],_[i]-=n,h[i]-=n*h[i-1];for(e[s-1]=h[s-1]/_[s-1],i=s-2;i>=0;--i)e[i]=(h[i]-e[i+1])/_[i];for(_[s-1]=(t[s]+e[s-1])/2,i=0;i<s-1;++i)_[i]=2*t[i+1]-e[i+1];return[e,_]}function gt(t){return new H(t)}function T(t,i){this._context=t,this._t=i}T.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,i){switch(t=+t,i=+i,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,i):this._context.moveTo(t,i);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,i),this._context.lineTo(t,i);else{var s=this._x*(1-this._t)+t*this._t;this._context.lineTo(s,this._y),this._context.lineTo(s,i)}break}}this._x=t,this._y=i}};function Ot(t){return new T(t,.5)}function Mt(t){return new T(t,0)}function zt(t){return new T(t,1)}const Rt=new Map([["basis",yt],["basis-closed",bt],["basis-open",dt],["bundle",mt],["bump-x",ft],["bump-y",xt],["cardinal",vt],["cardinal-closed",kt],["cardinal-open",wt],["catmull-rom",Tt],["catmull-rom-closed",Nt],["catmull-rom-open",St],["linear",S],["linear-closed",Ct],["monotone-x",Pt],["monotone-y",Et],["natural",gt],["step",Ot],["step-after",zt],["step-before",Mt]]);function Lt(t=S,i){if(typeof t=="function")return t;const s=Rt.get(`${t}`.toLowerCase());if(!s)throw new Error(`unknown curve: ${t}`);if(i!==void 0){if("beta"in s)return s.beta(i);if("tension"in s)return s.tension(i);if("alpha"in s)return s.alpha(i)}return s}function jt(t=v,i){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?v:Lt(t,i)}function v(t){return S(t)}const Bt={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class K extends Q{constructor(i,s={}){const{x:n,y:e,z:_,curve:h,tension:o}=s;super(i,{x:{value:n,scale:"x"},y:{value:e,scale:"y"},z:{value:tt(s),optional:!0}},s,Bt),this.z=_,this.curve=jt(h,o),it(this,s)}filter(i){return i}project(i,s,n){this.curve!==v&&super.project(i,s,n)}render(i,s,n,e,_){const{x:h,y:o}=n,{curve:a}=this;return st("svg:g",_).call(nt,this,e,_).call(et,this,s).call(y=>y.selectAll().data(_t(i,[h,o],this,n)).enter().append("path").call(ht,this).call(ot,this,n).call(rt,this,n,_).attr("d",a===v&&_.projection?$t(_.projection,h,o):lt().curve(a).defined(l=>l>=0).x(l=>h[l]).y(l=>o[l]))).node()}}function $t(t,i,s){const n=at(t);return i=M(i),s=M(s),e=>{let _=[];const h=[_];for(const o of e)o===-1?(_=[],h.push(_)):_.push([i[o],s[o]]);return n({type:"MultiLineString",coordinates:h})}}function At(t,{x:i=D,y:s=F,...n}={}){return new K(t,ut({...n,x:i,y:s}))}function Dt(t,{x:i=F,y:s=D,...n}={}){return new K(t,pt({...n,x:i,y:s}))}var Ft=Object.defineProperty,Xt=Object.getOwnPropertyDescriptor,x=(t,i,s,n)=>{for(var e=n>1?void 0:n?Xt(i,s):i,_=t.length-1,h;_>=0;_--)(h=t[_])&&(e=(n?h(i,s,e):h(e))||e);return n&&e&&Ft(i,s,e),e};let f=class extends ${constructor(){super(...arguments),this.mark="line",this.direction="horizontal",this.markOptions=["x","y","direction"]}get plot(){const t=this==null?void 0:this.currentResults,i=this.allOptions,s=this.direction==="horizontal"?Dt:At;return(n,e)=>{const _=t!=null&&t.length?t:n;return s(_,{...e,...i})}}render(){return null}};x([r({type:String})],f.prototype,"direction",2);x([r({converter:k})],f.prototype,"x",2);x([r({converter:k})],f.prototype,"y",2);x([r({converter:k})],f.prototype,"z",2);f=x([A("osl-line")],f);var Yt=Object.defineProperty,It=Object.getOwnPropertyDescriptor,p=(t,i,s,n)=>{for(var e=n>1?void 0:n?It(i,s):i,_=t.length-1,h;_>=0;_--)(h=t[_])&&(e=(n?h(i,s,e):h(e))||e);return n&&e&&Yt(i,s,e),e};let c=class extends ${constructor(){super(...arguments),this.mark="axis",this.markOptions=["axis","anchor","ticks","tickFormat","tickSize","tickPadding","tickRotate"],this.axis="x",this.anchor="bottom",this.tickFormat=t=>t,this.ticks=20,this.tickSize=6}get plot(){const t=this==null?void 0:this.currentResults,i=this.allOptions;return(s,n)=>{const e=t!=null&&t.length?t:s;switch(this.axis){case"x":return z({...n,...i});case"y":return ct(e,{...n,...i});default:return z(e,{...n,...i})}}}render(){return null}};p([r({type:String})],c.prototype,"axis",2);p([r({type:String})],c.prototype,"anchor",2);p([r({converter:k})],c.prototype,"tickFormat",2);p([r({type:Number})],c.prototype,"ticks",2);p([r({type:Number})],c.prototype,"tickSize",2);p([r({type:Number})],c.prototype,"tickPadding",2);p([r({type:Number})],c.prototype,"tickRotate",2);c=p([A("osl-axis")],c);
//# sourceMappingURL=Axis-afb139c5.js.map
