import{o as g,M as I,p as D,q as P,r as F,d as R,e as T,f as q,g as z,t as L,s as C,l as N,u as W,v as S,w as M,x as X,y as Y}from"./Plot-e459c07e.js";const j={ariaLabel:"dot",fill:"none",stroke:"currentColor",strokeWidth:1.5};function B(s){return s.sort===void 0&&s.reverse===void 0?W({channel:"-r"},s):s}class E extends I{constructor(e,r={}){const{x:o,y:f,r:b,rotate:w,symbol:k=S,frameAnchor:n}=r,[c,a]=M(w,0),[m,i]=D(k),[h,v]=M(b,m==null?3:4.5);super(e,{x:{value:o,scale:"x",optional:!0},y:{value:f,scale:"y",optional:!0},r:{value:h,scale:"r",filter:P,optional:!0},rotate:{value:c,optional:!0},symbol:{value:m,scale:"auto",optional:!0}},B(r),j),this.r=v,this.rotate=a,this.symbol=i,this.frameAnchor=F(n);const{channels:y}=this,{symbol:u}=y;if(u){const{fill:p,stroke:d}=y;u.hint={fill:p?p.value===u.value?"color":"currentColor":this.fill,stroke:d?d.value===u.value?"color":"currentColor":this.stroke}}}render(e,r,o,f,b){const{x:w,y:k}=r,{x:n,y:c,r:a,rotate:m,symbol:i}=o,{r:h,rotate:v,symbol:y}=this,[u,p]=X(this,f),d=y===S,A=a?void 0:h*h*Math.PI;return Y(h)&&(e=[]),R("svg:g",b).call(T,this,f,b).call(q,this,{x:n&&w,y:c&&k}).call($=>$.selectAll().data(e).enter().append(d?"circle":"path").call(z,this).call(d?x=>{x.attr("cx",n?t=>n[t]:u).attr("cy",c?t=>c[t]:p).attr("r",a?t=>a[t]:h)}:x=>{x.attr("transform",L`translate(${n?t=>n[t]:u},${c?t=>c[t]:p})${m?t=>` rotate(${m[t]})`:v?` rotate(${v})`:""}`).attr("d",a&&i?t=>{const l=C();return i[t].draw(l,a[t]*a[t]*Math.PI),l}:a?t=>{const l=C();return y.draw(l,a[t]*a[t]*Math.PI),l}:i?t=>{const l=C();return i[t].draw(l,A),l}:(()=>{const t=C();return y.draw(t,A),t})())}).call(N,this,o)).node()}}function H(s,{x:e,y:r,...o}={}){return o.frameAnchor===void 0&&([e,r]=g(e,r)),new E(s,{...o,x:e,y:r})}export{H as d,B as w};
//# sourceMappingURL=dot-04a474de.js.map
