{"version":3,"file":"Histogram.stories-62de5a6c.js","sources":["../../dextra-components/src/components/marks/Histogram/src/Histogram.ts"],"sourcesContent":["import { customElement, property } from \"lit/decorators.js\";\nimport { PlotMark } from \"../../PlotMark/src/PlotMark\";\nimport * as Plot from \"@observablehq/plot\";\nimport { safeCustomElement } from \"../../../core/decorators/safeCustomElement\";\n\n@safeCustomElement(\"osl-histogram-plot\")\nexport class HistogramPlot extends PlotMark {\n  mark = \"histogram\"\n\n  @property({ type: String })\n  x?: string;\n\n  @property({ type: String })\n  y?: string;\n\n  @property({ type: Boolean })\n  vertical?: boolean = false;\n  \n  markOptions: (keyof this)[] = ['x'];\n\n  public get plot() {\n    const innerData = this?.currentResults;\n    const options = this.allOptions;\n\n    return (overrideData?: any, overrideOptions?: {}) => {\n      const data = innerData?.length ? innerData : overrideData;\n      if (this.vertical) {\n        const bin = Plot.binY(\n          { x: \"count\" },\n          { ...overrideOptions, ...options }\n        );\n        return Plot.rectX(data, bin);\n      } else {\n\n        const bin = Plot.binX(\n          { y: \"count\" },\n          { ...overrideOptions, ...options }\n        );\n        return Plot.rectY(data, bin);\n      }\n    };\n  }\n\n  render() {\n    return null\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"osl-histogram-plot\": HistogramPlot;\n  }\n}"],"names":["HistogramPlot","PlotMark","innerData","options","overrideData","overrideOptions","data","bin","Plot.binY","Plot.rectX","Plot.binX","Plot.rectY","__decorateClass","property","safeCustomElement"],"mappings":"goBAMa,IAAAA,EAAN,cAA4BC,CAAS,CAArC,aAAA,CAAA,MAAA,GAAA,SAAA,EACE,KAAA,KAAA,YASc,KAAA,SAAA,GAErB,KAAA,YAA8B,CAAC,GAAG,CAAA,CAElC,IAAW,MAAO,CAChB,MAAMC,EAAY,uBAAM,eAClBC,EAAU,KAAK,WAEd,MAAA,CAACC,EAAoBC,IAAyB,CAC7C,MAAAC,EAAOJ,GAAA,MAAAA,EAAW,OAASA,EAAYE,EAC7C,GAAI,KAAK,SAAU,CACjB,MAAMG,EAAMC,EACV,CAAE,EAAG,OAAQ,EACb,CAAE,GAAGH,EAAiB,GAAGF,CAAQ,CAAA,EAE5B,OAAAM,EAAWH,EAAMC,CAAG,CAAA,KACtB,CAEL,MAAMA,EAAMG,EACV,CAAE,EAAG,OAAQ,EACb,CAAE,GAAGL,EAAiB,GAAGF,CAAQ,CAAA,EAE5B,OAAAQ,EAAWL,EAAMC,CAAG,CAC7B,CAAA,CAEJ,CAEA,QAAS,CACA,OAAA,IACT,CACF,EApCEK,EAAA,CADCC,EAAS,CAAE,KAAM,OAAQ,CAAA,EAHfb,EAIX,UAAA,IAAA,CAAA,EAGAY,EAAA,CADCC,EAAS,CAAE,KAAM,OAAQ,CAAA,EANfb,EAOX,UAAA,IAAA,CAAA,EAGAY,EAAA,CADCC,EAAS,CAAE,KAAM,QAAS,CAAA,EAThBb,EAUX,UAAA,WAAA,CAAA,EAVWA,EAANY,EAAA,CADNE,EAAkB,oBAAoB,CAAA,EAC1Bd,CAAA;;;;;;;;;;"}