{"version":3,"file":"index-086eb4c0.js","sources":["../../node_modules/event-target-shim/index.mjs"],"sourcesContent":["/**\n * Assert a condition.\n * @param condition The condition that it should satisfy.\n * @param message The error message.\n * @param args The arguments for replacing placeholders in the message.\n */\nfunction assertType(condition, message, ...args) {\n    if (!condition) {\n        throw new TypeError(format(message, args));\n    }\n}\n/**\n * Convert a text and arguments to one string.\n * @param message The formating text\n * @param args The arguments.\n */\nfunction format(message, args) {\n    let i = 0;\n    return message.replace(/%[os]/gu, () => anyToString(args[i++]));\n}\n/**\n * Convert a value to a string representation.\n * @param x The value to get the string representation.\n */\nfunction anyToString(x) {\n    if (typeof x !== \"object\" || x === null) {\n        return String(x);\n    }\n    return Object.prototype.toString.call(x);\n}\n\nlet currentErrorHandler;\n/**\n * Set the error handler.\n * @param value The error handler to set.\n */\nfunction setErrorHandler(value) {\n    assertType(typeof value === \"function\" || value === undefined, \"The error handler must be a function or undefined, but got %o.\", value);\n    currentErrorHandler = value;\n}\n/**\n * Print a error message.\n * @param maybeError The error object.\n */\nfunction reportError(maybeError) {\n    try {\n        const error = maybeError instanceof Error\n            ? maybeError\n            : new Error(anyToString(maybeError));\n        // Call the user-defined error handler if exists.\n        if (currentErrorHandler) {\n            currentErrorHandler(error);\n            return;\n        }\n        // Dispatch an `error` event if this is on a browser.\n        if (typeof dispatchEvent === \"function\" &&\n            typeof ErrorEvent === \"function\") {\n            dispatchEvent(new ErrorEvent(\"error\", { error, message: error.message }));\n        }\n        // Emit an `uncaughtException` event if this is on Node.js.\n        //istanbul ignore else\n        else if (typeof process !== \"undefined\" &&\n            typeof process.emit === \"function\") {\n            process.emit(\"uncaughtException\", error);\n            return;\n        }\n        // Otherwise, print the error.\n        console.error(error);\n    }\n    catch (_a) {\n        // ignore.\n    }\n}\n\n/**\n * The global object.\n */\n//istanbul ignore next\nconst Global = typeof window !== \"undefined\"\n    ? window\n    : typeof self !== \"undefined\"\n        ? self\n        : typeof global !== \"undefined\"\n            ? global\n            : typeof globalThis !== \"undefined\"\n                ? globalThis\n                : undefined;\n\nlet currentWarnHandler;\n/**\n * Set the warning handler.\n * @param value The warning handler to set.\n */\nfunction setWarningHandler(value) {\n    assertType(typeof value === \"function\" || value === undefined, \"The warning handler must be a function or undefined, but got %o.\", value);\n    currentWarnHandler = value;\n}\n/**\n * The warning information.\n */\nclass Warning {\n    constructor(code, message) {\n        this.code = code;\n        this.message = message;\n    }\n    /**\n     * Report this warning.\n     * @param args The arguments of the warning.\n     */\n    warn(...args) {\n        var _a;\n        try {\n            // Call the user-defined warning handler if exists.\n            if (currentWarnHandler) {\n                currentWarnHandler({ ...this, args });\n                return;\n            }\n            // Otherwise, print the warning.\n            const stack = ((_a = new Error().stack) !== null && _a !== void 0 ? _a : \"\").replace(/^(?:.+?\\n){2}/gu, \"\\n\");\n            console.warn(this.message, ...args, stack);\n        }\n        catch (_b) {\n            // Ignore.\n        }\n    }\n}\n\nconst InitEventWasCalledWhileDispatching = new Warning(\"W01\", \"Unable to initialize event under dispatching.\");\nconst FalsyWasAssignedToCancelBubble = new Warning(\"W02\", \"Assigning any falsy value to 'cancelBubble' property has no effect.\");\nconst TruthyWasAssignedToReturnValue = new Warning(\"W03\", \"Assigning any truthy value to 'returnValue' property has no effect.\");\nconst NonCancelableEventWasCanceled = new Warning(\"W04\", \"Unable to preventDefault on non-cancelable events.\");\nconst CanceledInPassiveListener = new Warning(\"W05\", \"Unable to preventDefault inside passive event listener invocation.\");\nconst EventListenerWasDuplicated = new Warning(\"W06\", \"An event listener wasn't added because it has been added already: %o, %o\");\nconst OptionWasIgnored = new Warning(\"W07\", \"The %o option value was abandoned because the event listener wasn't added as duplicated.\");\nconst InvalidEventListener = new Warning(\"W08\", \"The 'callback' argument must be a function or an object that has 'handleEvent' method: %o\");\nconst InvalidAttributeHandler = new Warning(\"W09\", \"Event attribute handler must be a function: %o\");\n\n/*eslint-disable class-methods-use-this */\n/**\n * An implementation of `Event` interface, that wraps a given event object.\n * `EventTarget` shim can control the internal state of this `Event` objects.\n * @see https://dom.spec.whatwg.org/#event\n */\nclass Event {\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-none\n     */\n    static get NONE() {\n        return NONE;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-capturing_phase\n     */\n    static get CAPTURING_PHASE() {\n        return CAPTURING_PHASE;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-at_target\n     */\n    static get AT_TARGET() {\n        return AT_TARGET;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-bubbling_phase\n     */\n    static get BUBBLING_PHASE() {\n        return BUBBLING_PHASE;\n    }\n    /**\n     * Initialize this event instance.\n     * @param type The type of this event.\n     * @param eventInitDict Options to initialize.\n     * @see https://dom.spec.whatwg.org/#dom-event-event\n     */\n    constructor(type, eventInitDict) {\n        Object.defineProperty(this, \"isTrusted\", {\n            value: false,\n            enumerable: true,\n        });\n        const opts = eventInitDict !== null && eventInitDict !== void 0 ? eventInitDict : {};\n        internalDataMap.set(this, {\n            type: String(type),\n            bubbles: Boolean(opts.bubbles),\n            cancelable: Boolean(opts.cancelable),\n            composed: Boolean(opts.composed),\n            target: null,\n            currentTarget: null,\n            stopPropagationFlag: false,\n            stopImmediatePropagationFlag: false,\n            canceledFlag: false,\n            inPassiveListenerFlag: false,\n            dispatchFlag: false,\n            timeStamp: Date.now(),\n        });\n    }\n    /**\n     * The type of this event.\n     * @see https://dom.spec.whatwg.org/#dom-event-type\n     */\n    get type() {\n        return $(this).type;\n    }\n    /**\n     * The event target of the current dispatching.\n     * @see https://dom.spec.whatwg.org/#dom-event-target\n     */\n    get target() {\n        return $(this).target;\n    }\n    /**\n     * The event target of the current dispatching.\n     * @deprecated Use the `target` property instead.\n     * @see https://dom.spec.whatwg.org/#dom-event-srcelement\n     */\n    get srcElement() {\n        return $(this).target;\n    }\n    /**\n     * The event target of the current dispatching.\n     * @see https://dom.spec.whatwg.org/#dom-event-currenttarget\n     */\n    get currentTarget() {\n        return $(this).currentTarget;\n    }\n    /**\n     * The event target of the current dispatching.\n     * This doesn't support node tree.\n     * @see https://dom.spec.whatwg.org/#dom-event-composedpath\n     */\n    composedPath() {\n        const currentTarget = $(this).currentTarget;\n        if (currentTarget) {\n            return [currentTarget];\n        }\n        return [];\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-none\n     */\n    get NONE() {\n        return NONE;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-capturing_phase\n     */\n    get CAPTURING_PHASE() {\n        return CAPTURING_PHASE;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-at_target\n     */\n    get AT_TARGET() {\n        return AT_TARGET;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-bubbling_phase\n     */\n    get BUBBLING_PHASE() {\n        return BUBBLING_PHASE;\n    }\n    /**\n     * The current event phase.\n     * @see https://dom.spec.whatwg.org/#dom-event-eventphase\n     */\n    get eventPhase() {\n        return $(this).dispatchFlag ? 2 : 0;\n    }\n    /**\n     * Stop event bubbling.\n     * Because this shim doesn't support node tree, this merely changes the `cancelBubble` property value.\n     * @see https://dom.spec.whatwg.org/#dom-event-stoppropagation\n     */\n    stopPropagation() {\n        $(this).stopPropagationFlag = true;\n    }\n    /**\n     * `true` if event bubbling was stopped.\n     * @deprecated\n     * @see https://dom.spec.whatwg.org/#dom-event-cancelbubble\n     */\n    get cancelBubble() {\n        return $(this).stopPropagationFlag;\n    }\n    /**\n     * Stop event bubbling if `true` is set.\n     * @deprecated Use the `stopPropagation()` method instead.\n     * @see https://dom.spec.whatwg.org/#dom-event-cancelbubble\n     */\n    set cancelBubble(value) {\n        if (value) {\n            $(this).stopPropagationFlag = true;\n        }\n        else {\n            FalsyWasAssignedToCancelBubble.warn();\n        }\n    }\n    /**\n     * Stop event bubbling and subsequent event listener callings.\n     * @see https://dom.spec.whatwg.org/#dom-event-stopimmediatepropagation\n     */\n    stopImmediatePropagation() {\n        const data = $(this);\n        data.stopPropagationFlag = data.stopImmediatePropagationFlag = true;\n    }\n    /**\n     * `true` if this event will bubble.\n     * @see https://dom.spec.whatwg.org/#dom-event-bubbles\n     */\n    get bubbles() {\n        return $(this).bubbles;\n    }\n    /**\n     * `true` if this event can be canceled by the `preventDefault()` method.\n     * @see https://dom.spec.whatwg.org/#dom-event-cancelable\n     */\n    get cancelable() {\n        return $(this).cancelable;\n    }\n    /**\n     * `true` if the default behavior will act.\n     * @deprecated Use the `defaultPrevented` proeprty instead.\n     * @see https://dom.spec.whatwg.org/#dom-event-returnvalue\n     */\n    get returnValue() {\n        return !$(this).canceledFlag;\n    }\n    /**\n     * Cancel the default behavior if `false` is set.\n     * @deprecated Use the `preventDefault()` method instead.\n     * @see https://dom.spec.whatwg.org/#dom-event-returnvalue\n     */\n    set returnValue(value) {\n        if (!value) {\n            setCancelFlag($(this));\n        }\n        else {\n            TruthyWasAssignedToReturnValue.warn();\n        }\n    }\n    /**\n     * Cancel the default behavior.\n     * @see https://dom.spec.whatwg.org/#dom-event-preventdefault\n     */\n    preventDefault() {\n        setCancelFlag($(this));\n    }\n    /**\n     * `true` if the default behavior was canceled.\n     * @see https://dom.spec.whatwg.org/#dom-event-defaultprevented\n     */\n    get defaultPrevented() {\n        return $(this).canceledFlag;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-composed\n     */\n    get composed() {\n        return $(this).composed;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-istrusted\n     */\n    //istanbul ignore next\n    get isTrusted() {\n        return false;\n    }\n    /**\n     * @see https://dom.spec.whatwg.org/#dom-event-timestamp\n     */\n    get timeStamp() {\n        return $(this).timeStamp;\n    }\n    /**\n     * @deprecated Don't use this method. The constructor did initialization.\n     */\n    initEvent(type, bubbles = false, cancelable = false) {\n        const data = $(this);\n        if (data.dispatchFlag) {\n            InitEventWasCalledWhileDispatching.warn();\n            return;\n        }\n        internalDataMap.set(this, {\n            ...data,\n            type: String(type),\n            bubbles: Boolean(bubbles),\n            cancelable: Boolean(cancelable),\n            target: null,\n            currentTarget: null,\n            stopPropagationFlag: false,\n            stopImmediatePropagationFlag: false,\n            canceledFlag: false,\n        });\n    }\n}\n//------------------------------------------------------------------------------\n// Helpers\n//------------------------------------------------------------------------------\nconst NONE = 0;\nconst CAPTURING_PHASE = 1;\nconst AT_TARGET = 2;\nconst BUBBLING_PHASE = 3;\n/**\n * Private data for event wrappers.\n */\nconst internalDataMap = new WeakMap();\n/**\n * Get private data.\n * @param event The event object to get private data.\n * @param name The variable name to report.\n * @returns The private data of the event.\n */\nfunction $(event, name = \"this\") {\n    const retv = internalDataMap.get(event);\n    assertType(retv != null, \"'%s' must be an object that Event constructor created, but got another one: %o\", name, event);\n    return retv;\n}\n/**\n * https://dom.spec.whatwg.org/#set-the-canceled-flag\n * @param data private data.\n */\nfunction setCancelFlag(data) {\n    if (data.inPassiveListenerFlag) {\n        CanceledInPassiveListener.warn();\n        return;\n    }\n    if (!data.cancelable) {\n        NonCancelableEventWasCanceled.warn();\n        return;\n    }\n    data.canceledFlag = true;\n}\n// Set enumerable\nObject.defineProperty(Event, \"NONE\", { enumerable: true });\nObject.defineProperty(Event, \"CAPTURING_PHASE\", { enumerable: true });\nObject.defineProperty(Event, \"AT_TARGET\", { enumerable: true });\nObject.defineProperty(Event, \"BUBBLING_PHASE\", { enumerable: true });\nconst keys = Object.getOwnPropertyNames(Event.prototype);\nfor (let i = 0; i < keys.length; ++i) {\n    if (keys[i] === \"constructor\") {\n        continue;\n    }\n    Object.defineProperty(Event.prototype, keys[i], { enumerable: true });\n}\n// Ensure `event instanceof window.Event` is `true`.\nif (typeof Global !== \"undefined\" && typeof Global.Event !== \"undefined\") {\n    Object.setPrototypeOf(Event.prototype, Global.Event.prototype);\n}\n\n/**\n * Create a new InvalidStateError instance.\n * @param message The error message.\n */\nfunction createInvalidStateError(message) {\n    if (Global.DOMException) {\n        return new Global.DOMException(message, \"InvalidStateError\");\n    }\n    if (DOMException == null) {\n        DOMException = class DOMException extends Error {\n            constructor(msg) {\n                super(msg);\n                if (Error.captureStackTrace) {\n                    Error.captureStackTrace(this, DOMException);\n                }\n            }\n            // eslint-disable-next-line class-methods-use-this\n            get code() {\n                return 11;\n            }\n            // eslint-disable-next-line class-methods-use-this\n            get name() {\n                return \"InvalidStateError\";\n            }\n        };\n        Object.defineProperties(DOMException.prototype, {\n            code: { enumerable: true },\n            name: { enumerable: true },\n        });\n        defineErrorCodeProperties(DOMException);\n        defineErrorCodeProperties(DOMException.prototype);\n    }\n    return new DOMException(message);\n}\n//------------------------------------------------------------------------------\n// Helpers\n//------------------------------------------------------------------------------\nlet DOMException;\nconst ErrorCodeMap = {\n    INDEX_SIZE_ERR: 1,\n    DOMSTRING_SIZE_ERR: 2,\n    HIERARCHY_REQUEST_ERR: 3,\n    WRONG_DOCUMENT_ERR: 4,\n    INVALID_CHARACTER_ERR: 5,\n    NO_DATA_ALLOWED_ERR: 6,\n    NO_MODIFICATION_ALLOWED_ERR: 7,\n    NOT_FOUND_ERR: 8,\n    NOT_SUPPORTED_ERR: 9,\n    INUSE_ATTRIBUTE_ERR: 10,\n    INVALID_STATE_ERR: 11,\n    SYNTAX_ERR: 12,\n    INVALID_MODIFICATION_ERR: 13,\n    NAMESPACE_ERR: 14,\n    INVALID_ACCESS_ERR: 15,\n    VALIDATION_ERR: 16,\n    TYPE_MISMATCH_ERR: 17,\n    SECURITY_ERR: 18,\n    NETWORK_ERR: 19,\n    ABORT_ERR: 20,\n    URL_MISMATCH_ERR: 21,\n    QUOTA_EXCEEDED_ERR: 22,\n    TIMEOUT_ERR: 23,\n    INVALID_NODE_TYPE_ERR: 24,\n    DATA_CLONE_ERR: 25,\n};\nfunction defineErrorCodeProperties(obj) {\n    const keys = Object.keys(ErrorCodeMap);\n    for (let i = 0; i < keys.length; ++i) {\n        const key = keys[i];\n        const value = ErrorCodeMap[key];\n        Object.defineProperty(obj, key, {\n            get() {\n                return value;\n            },\n            configurable: true,\n            enumerable: true,\n        });\n    }\n}\n\n/**\n * An implementation of `Event` interface, that wraps a given event object.\n * This class controls the internal state of `Event`.\n * @see https://dom.spec.whatwg.org/#interface-event\n */\nclass EventWrapper extends Event {\n    /**\n     * Wrap a given event object to control states.\n     * @param event The event-like object to wrap.\n     */\n    static wrap(event) {\n        return new (getWrapperClassOf(event))(event);\n    }\n    constructor(event) {\n        super(event.type, {\n            bubbles: event.bubbles,\n            cancelable: event.cancelable,\n            composed: event.composed,\n        });\n        if (event.cancelBubble) {\n            super.stopPropagation();\n        }\n        if (event.defaultPrevented) {\n            super.preventDefault();\n        }\n        internalDataMap$1.set(this, { original: event });\n        // Define accessors\n        const keys = Object.keys(event);\n        for (let i = 0; i < keys.length; ++i) {\n            const key = keys[i];\n            if (!(key in this)) {\n                Object.defineProperty(this, key, defineRedirectDescriptor(event, key));\n            }\n        }\n    }\n    stopPropagation() {\n        super.stopPropagation();\n        const { original } = $$1(this);\n        if (\"stopPropagation\" in original) {\n            original.stopPropagation();\n        }\n    }\n    get cancelBubble() {\n        return super.cancelBubble;\n    }\n    set cancelBubble(value) {\n        super.cancelBubble = value;\n        const { original } = $$1(this);\n        if (\"cancelBubble\" in original) {\n            original.cancelBubble = value;\n        }\n    }\n    stopImmediatePropagation() {\n        super.stopImmediatePropagation();\n        const { original } = $$1(this);\n        if (\"stopImmediatePropagation\" in original) {\n            original.stopImmediatePropagation();\n        }\n    }\n    get returnValue() {\n        return super.returnValue;\n    }\n    set returnValue(value) {\n        super.returnValue = value;\n        const { original } = $$1(this);\n        if (\"returnValue\" in original) {\n            original.returnValue = value;\n        }\n    }\n    preventDefault() {\n        super.preventDefault();\n        const { original } = $$1(this);\n        if (\"preventDefault\" in original) {\n            original.preventDefault();\n        }\n    }\n    get timeStamp() {\n        const { original } = $$1(this);\n        if (\"timeStamp\" in original) {\n            return original.timeStamp;\n        }\n        return super.timeStamp;\n    }\n}\n/**\n * Private data for event wrappers.\n */\nconst internalDataMap$1 = new WeakMap();\n/**\n * Get private data.\n * @param event The event object to get private data.\n * @returns The private data of the event.\n */\nfunction $$1(event) {\n    const retv = internalDataMap$1.get(event);\n    assertType(retv != null, \"'this' is expected an Event object, but got\", event);\n    return retv;\n}\n/**\n * Cache for wrapper classes.\n * @type {WeakMap<Object, Function>}\n * @private\n */\nconst wrapperClassCache = new WeakMap();\n// Make association for wrappers.\nwrapperClassCache.set(Object.prototype, EventWrapper);\nif (typeof Global !== \"undefined\" && typeof Global.Event !== \"undefined\") {\n    wrapperClassCache.set(Global.Event.prototype, EventWrapper);\n}\n/**\n * Get the wrapper class of a given prototype.\n * @param originalEvent The event object to wrap.\n */\nfunction getWrapperClassOf(originalEvent) {\n    const prototype = Object.getPrototypeOf(originalEvent);\n    if (prototype == null) {\n        return EventWrapper;\n    }\n    let wrapper = wrapperClassCache.get(prototype);\n    if (wrapper == null) {\n        wrapper = defineWrapper(getWrapperClassOf(prototype), prototype);\n        wrapperClassCache.set(prototype, wrapper);\n    }\n    return wrapper;\n}\n/**\n * Define new wrapper class.\n * @param BaseEventWrapper The base wrapper class.\n * @param originalPrototype The prototype of the original event.\n */\nfunction defineWrapper(BaseEventWrapper, originalPrototype) {\n    class CustomEventWrapper extends BaseEventWrapper {\n    }\n    const keys = Object.keys(originalPrototype);\n    for (let i = 0; i < keys.length; ++i) {\n        Object.defineProperty(CustomEventWrapper.prototype, keys[i], defineRedirectDescriptor(originalPrototype, keys[i]));\n    }\n    return CustomEventWrapper;\n}\n/**\n * Get the property descriptor to redirect a given property.\n */\nfunction defineRedirectDescriptor(obj, key) {\n    const d = Object.getOwnPropertyDescriptor(obj, key);\n    return {\n        get() {\n            const original = $$1(this).original;\n            const value = original[key];\n            if (typeof value === \"function\") {\n                return value.bind(original);\n            }\n            return value;\n        },\n        set(value) {\n            const original = $$1(this).original;\n            original[key] = value;\n        },\n        configurable: d.configurable,\n        enumerable: d.enumerable,\n    };\n}\n\n/**\n * Create a new listener.\n * @param callback The callback function.\n * @param capture The capture flag.\n * @param passive The passive flag.\n * @param once The once flag.\n * @param signal The abort signal.\n * @param signalListener The abort event listener for the abort signal.\n */\nfunction createListener(callback, capture, passive, once, signal, signalListener) {\n    return {\n        callback,\n        flags: (capture ? 1 /* Capture */ : 0) |\n            (passive ? 2 /* Passive */ : 0) |\n            (once ? 4 /* Once */ : 0),\n        signal,\n        signalListener,\n    };\n}\n/**\n * Set the `removed` flag to the given listener.\n * @param listener The listener to check.\n */\nfunction setRemoved(listener) {\n    listener.flags |= 8 /* Removed */;\n}\n/**\n * Check if the given listener has the `capture` flag or not.\n * @param listener The listener to check.\n */\nfunction isCapture(listener) {\n    return (listener.flags & 1 /* Capture */) === 1 /* Capture */;\n}\n/**\n * Check if the given listener has the `passive` flag or not.\n * @param listener The listener to check.\n */\nfunction isPassive(listener) {\n    return (listener.flags & 2 /* Passive */) === 2 /* Passive */;\n}\n/**\n * Check if the given listener has the `once` flag or not.\n * @param listener The listener to check.\n */\nfunction isOnce(listener) {\n    return (listener.flags & 4 /* Once */) === 4 /* Once */;\n}\n/**\n * Check if the given listener has the `removed` flag or not.\n * @param listener The listener to check.\n */\nfunction isRemoved(listener) {\n    return (listener.flags & 8 /* Removed */) === 8 /* Removed */;\n}\n/**\n * Call an event listener.\n * @param listener The listener to call.\n * @param target The event target object for `thisArg`.\n * @param event The event object for the first argument.\n * @param attribute `true` if this callback is an event attribute handler.\n */\nfunction invokeCallback({ callback }, target, event) {\n    try {\n        if (typeof callback === \"function\") {\n            callback.call(target, event);\n        }\n        else if (typeof callback.handleEvent === \"function\") {\n            callback.handleEvent(event);\n        }\n    }\n    catch (thrownError) {\n        reportError(thrownError);\n    }\n}\n\n/**\n * Find the index of given listener.\n * This returns `-1` if not found.\n * @param list The listener list.\n * @param callback The callback function to find.\n * @param capture The capture flag to find.\n */\nfunction findIndexOfListener({ listeners }, callback, capture) {\n    for (let i = 0; i < listeners.length; ++i) {\n        if (listeners[i].callback === callback &&\n            isCapture(listeners[i]) === capture) {\n            return i;\n        }\n    }\n    return -1;\n}\n/**\n * Add the given listener.\n * Does copy-on-write if needed.\n * @param list The listener list.\n * @param callback The callback function.\n * @param capture The capture flag.\n * @param passive The passive flag.\n * @param once The once flag.\n * @param signal The abort signal.\n */\nfunction addListener(list, callback, capture, passive, once, signal) {\n    let signalListener;\n    if (signal) {\n        signalListener = removeListener.bind(null, list, callback, capture);\n        signal.addEventListener(\"abort\", signalListener);\n    }\n    const listener = createListener(callback, capture, passive, once, signal, signalListener);\n    if (list.cow) {\n        list.cow = false;\n        list.listeners = [...list.listeners, listener];\n    }\n    else {\n        list.listeners.push(listener);\n    }\n    return listener;\n}\n/**\n * Remove a listener.\n * @param list The listener list.\n * @param callback The callback function to find.\n * @param capture The capture flag to find.\n * @returns `true` if it mutated the list directly.\n */\nfunction removeListener(list, callback, capture) {\n    const index = findIndexOfListener(list, callback, capture);\n    if (index !== -1) {\n        return removeListenerAt(list, index);\n    }\n    return false;\n}\n/**\n * Remove a listener.\n * @param list The listener list.\n * @param index The index of the target listener.\n * @param disableCow Disable copy-on-write if true.\n * @returns `true` if it mutated the `listeners` array directly.\n */\nfunction removeListenerAt(list, index, disableCow = false) {\n    const listener = list.listeners[index];\n    // Set the removed flag.\n    setRemoved(listener);\n    // Dispose the abort signal listener if exists.\n    if (listener.signal) {\n        listener.signal.removeEventListener(\"abort\", listener.signalListener);\n    }\n    // Remove it from the array.\n    if (list.cow && !disableCow) {\n        list.cow = false;\n        list.listeners = list.listeners.filter((_, i) => i !== index);\n        return false;\n    }\n    list.listeners.splice(index, 1);\n    return true;\n}\n\n/**\n * Create a new `ListenerListMap` object.\n */\nfunction createListenerListMap() {\n    return Object.create(null);\n}\n/**\n * Get the listener list of the given type.\n * If the listener list has not been initialized, initialize and return it.\n * @param listenerMap The listener list map.\n * @param type The event type to get.\n */\nfunction ensureListenerList(listenerMap, type) {\n    var _a;\n    return ((_a = listenerMap[type]) !== null && _a !== void 0 ? _a : (listenerMap[type] = {\n        attrCallback: undefined,\n        attrListener: undefined,\n        cow: false,\n        listeners: [],\n    }));\n}\n\n/**\n * An implementation of the `EventTarget` interface.\n * @see https://dom.spec.whatwg.org/#eventtarget\n */\nclass EventTarget {\n    /**\n     * Initialize this instance.\n     */\n    constructor() {\n        internalDataMap$2.set(this, createListenerListMap());\n    }\n    // Implementation\n    addEventListener(type0, callback0, options0) {\n        const listenerMap = $$2(this);\n        const { callback, capture, once, passive, signal, type, } = normalizeAddOptions(type0, callback0, options0);\n        if (callback == null || (signal === null || signal === void 0 ? void 0 : signal.aborted)) {\n            return;\n        }\n        const list = ensureListenerList(listenerMap, type);\n        // Find existing listener.\n        const i = findIndexOfListener(list, callback, capture);\n        if (i !== -1) {\n            warnDuplicate(list.listeners[i], passive, once, signal);\n            return;\n        }\n        // Add the new listener.\n        addListener(list, callback, capture, passive, once, signal);\n    }\n    // Implementation\n    removeEventListener(type0, callback0, options0) {\n        const listenerMap = $$2(this);\n        const { callback, capture, type } = normalizeOptions(type0, callback0, options0);\n        const list = listenerMap[type];\n        if (callback != null && list) {\n            removeListener(list, callback, capture);\n        }\n    }\n    // Implementation\n    dispatchEvent(e) {\n        const list = $$2(this)[String(e.type)];\n        if (list == null) {\n            return true;\n        }\n        const event = e instanceof Event ? e : EventWrapper.wrap(e);\n        const eventData = $(event, \"event\");\n        if (eventData.dispatchFlag) {\n            throw createInvalidStateError(\"This event has been in dispatching.\");\n        }\n        eventData.dispatchFlag = true;\n        eventData.target = eventData.currentTarget = this;\n        if (!eventData.stopPropagationFlag) {\n            const { cow, listeners } = list;\n            // Set copy-on-write flag.\n            list.cow = true;\n            // Call listeners.\n            for (let i = 0; i < listeners.length; ++i) {\n                const listener = listeners[i];\n                // Skip if removed.\n                if (isRemoved(listener)) {\n                    continue;\n                }\n                // Remove this listener if has the `once` flag.\n                if (isOnce(listener) && removeListenerAt(list, i, !cow)) {\n                    // Because this listener was removed, the next index is the\n                    // same as the current value.\n                    i -= 1;\n                }\n                // Call this listener with the `passive` flag.\n                eventData.inPassiveListenerFlag = isPassive(listener);\n                invokeCallback(listener, this, event);\n                eventData.inPassiveListenerFlag = false;\n                // Stop if the `event.stopImmediatePropagation()` method was called.\n                if (eventData.stopImmediatePropagationFlag) {\n                    break;\n                }\n            }\n            // Restore copy-on-write flag.\n            if (!cow) {\n                list.cow = false;\n            }\n        }\n        eventData.target = null;\n        eventData.currentTarget = null;\n        eventData.stopImmediatePropagationFlag = false;\n        eventData.stopPropagationFlag = false;\n        eventData.dispatchFlag = false;\n        return !eventData.canceledFlag;\n    }\n}\n/**\n * Internal data.\n */\nconst internalDataMap$2 = new WeakMap();\n/**\n * Get private data.\n * @param target The event target object to get private data.\n * @param name The variable name to report.\n * @returns The private data of the event.\n */\nfunction $$2(target, name = \"this\") {\n    const retv = internalDataMap$2.get(target);\n    assertType(retv != null, \"'%s' must be an object that EventTarget constructor created, but got another one: %o\", name, target);\n    return retv;\n}\n/**\n * Normalize options.\n * @param options The options to normalize.\n */\nfunction normalizeAddOptions(type, callback, options) {\n    var _a;\n    assertCallback(callback);\n    if (typeof options === \"object\" && options !== null) {\n        return {\n            type: String(type),\n            callback: callback !== null && callback !== void 0 ? callback : undefined,\n            capture: Boolean(options.capture),\n            passive: Boolean(options.passive),\n            once: Boolean(options.once),\n            signal: (_a = options.signal) !== null && _a !== void 0 ? _a : undefined,\n        };\n    }\n    return {\n        type: String(type),\n        callback: callback !== null && callback !== void 0 ? callback : undefined,\n        capture: Boolean(options),\n        passive: false,\n        once: false,\n        signal: undefined,\n    };\n}\n/**\n * Normalize options.\n * @param options The options to normalize.\n */\nfunction normalizeOptions(type, callback, options) {\n    assertCallback(callback);\n    if (typeof options === \"object\" && options !== null) {\n        return {\n            type: String(type),\n            callback: callback !== null && callback !== void 0 ? callback : undefined,\n            capture: Boolean(options.capture),\n        };\n    }\n    return {\n        type: String(type),\n        callback: callback !== null && callback !== void 0 ? callback : undefined,\n        capture: Boolean(options),\n    };\n}\n/**\n * Assert the type of 'callback' argument.\n * @param callback The callback to check.\n */\nfunction assertCallback(callback) {\n    if (typeof callback === \"function\" ||\n        (typeof callback === \"object\" &&\n            callback !== null &&\n            typeof callback.handleEvent === \"function\")) {\n        return;\n    }\n    if (callback == null || typeof callback === \"object\") {\n        InvalidEventListener.warn(callback);\n        return;\n    }\n    throw new TypeError(format(InvalidEventListener.message, [callback]));\n}\n/**\n * Print warning for duplicated.\n * @param listener The current listener that is duplicated.\n * @param passive The passive flag of the new duplicated listener.\n * @param once The once flag of the new duplicated listener.\n * @param signal The signal object of the new duplicated listener.\n */\nfunction warnDuplicate(listener, passive, once, signal) {\n    EventListenerWasDuplicated.warn(isCapture(listener) ? \"capture\" : \"bubble\", listener.callback);\n    if (isPassive(listener) !== passive) {\n        OptionWasIgnored.warn(\"passive\");\n    }\n    if (isOnce(listener) !== once) {\n        OptionWasIgnored.warn(\"once\");\n    }\n    if (listener.signal !== signal) {\n        OptionWasIgnored.warn(\"signal\");\n    }\n}\n// Set enumerable\nconst keys$1 = Object.getOwnPropertyNames(EventTarget.prototype);\nfor (let i = 0; i < keys$1.length; ++i) {\n    if (keys$1[i] === \"constructor\") {\n        continue;\n    }\n    Object.defineProperty(EventTarget.prototype, keys$1[i], { enumerable: true });\n}\n// Ensure `eventTarget instanceof window.EventTarget` is `true`.\nif (typeof Global !== \"undefined\" &&\n    typeof Global.EventTarget !== \"undefined\") {\n    Object.setPrototypeOf(EventTarget.prototype, Global.EventTarget.prototype);\n}\n\n/**\n * Get the current value of a given event attribute.\n * @param target The `EventTarget` object to get.\n * @param type The event type.\n */\nfunction getEventAttributeValue(target, type) {\n    var _a, _b;\n    const listMap = $$2(target, \"target\");\n    return (_b = (_a = listMap[type]) === null || _a === void 0 ? void 0 : _a.attrCallback) !== null && _b !== void 0 ? _b : null;\n}\n/**\n * Set an event listener to a given event attribute.\n * @param target The `EventTarget` object to set.\n * @param type The event type.\n * @param callback The event listener.\n */\nfunction setEventAttributeValue(target, type, callback) {\n    if (callback != null && typeof callback !== \"function\") {\n        InvalidAttributeHandler.warn(callback);\n    }\n    if (typeof callback === \"function\" ||\n        (typeof callback === \"object\" && callback !== null)) {\n        upsertEventAttributeListener(target, type, callback);\n    }\n    else {\n        removeEventAttributeListener(target, type);\n    }\n}\n//------------------------------------------------------------------------------\n// Helpers\n//------------------------------------------------------------------------------\n/**\n * Update or insert the given event attribute handler.\n * @param target The `EventTarget` object to set.\n * @param type The event type.\n * @param callback The event listener.\n */\nfunction upsertEventAttributeListener(target, type, callback) {\n    const list = ensureListenerList($$2(target, \"target\"), String(type));\n    list.attrCallback = callback;\n    if (list.attrListener == null) {\n        list.attrListener = addListener(list, defineEventAttributeCallback(list), false, false, false, undefined);\n    }\n}\n/**\n * Remove the given event attribute handler.\n * @param target The `EventTarget` object to remove.\n * @param type The event type.\n * @param callback The event listener.\n */\nfunction removeEventAttributeListener(target, type) {\n    const listMap = $$2(target, \"target\");\n    const list = listMap[String(type)];\n    if (list && list.attrListener) {\n        removeListener(list, list.attrListener.callback, false);\n        list.attrCallback = list.attrListener = undefined;\n    }\n}\n/**\n * Define the callback function for the given listener list object.\n * It calls `attrCallback` property if the property value is a function.\n * @param list The `ListenerList` object.\n */\nfunction defineEventAttributeCallback(list) {\n    return function (event) {\n        const callback = list.attrCallback;\n        if (typeof callback === \"function\") {\n            callback.call(this, event);\n        }\n    };\n}\n\n/**\n * Define an `EventTarget` class that has event attibutes.\n * @param types The types to define event attributes.\n * @deprecated Use `getEventAttributeValue`/`setEventAttributeValue` pair on your derived class instead because of static analysis friendly.\n */\nfunction defineCustomEventTarget(...types) {\n    class CustomEventTarget extends EventTarget {\n    }\n    for (let i = 0; i < types.length; ++i) {\n        defineEventAttribute(CustomEventTarget.prototype, types[i]);\n    }\n    return CustomEventTarget;\n}\n/**\n * Define an event attribute.\n * @param target The `EventTarget` object to define an event attribute.\n * @param type The event type to define.\n * @param _eventClass Unused, but to infer `Event` class type.\n * @deprecated Use `getEventAttributeValue`/`setEventAttributeValue` pair on your derived class instead because of static analysis friendly.\n */\nfunction defineEventAttribute(target, type, _eventClass) {\n    Object.defineProperty(target, `on${type}`, {\n        get() {\n            return getEventAttributeValue(this, type);\n        },\n        set(value) {\n            setEventAttributeValue(this, type, value);\n        },\n        configurable: true,\n        enumerable: true,\n    });\n}\n\nexport default EventTarget;\nexport { Event, EventTarget, defineCustomEventTarget, defineEventAttribute, getEventAttributeValue, setErrorHandler, setEventAttributeValue, setWarningHandler };\n//# sourceMappingURL=index.mjs.map\n"],"names":["assertType","condition","message","args","format","i","anyToString","x","currentErrorHandler","setErrorHandler","value","reportError","maybeError","error","Global","currentWarnHandler","setWarningHandler","Warning","code","_a","stack","InitEventWasCalledWhileDispatching","FalsyWasAssignedToCancelBubble","TruthyWasAssignedToReturnValue","NonCancelableEventWasCanceled","CanceledInPassiveListener","EventListenerWasDuplicated","OptionWasIgnored","InvalidEventListener","InvalidAttributeHandler","Event","NONE","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","type","eventInitDict","opts","internalDataMap","$","currentTarget","data","setCancelFlag","bubbles","cancelable","event","name","retv","keys","createInvalidStateError","DOMException","msg","defineErrorCodeProperties","ErrorCodeMap","obj","key","EventWrapper","getWrapperClassOf","internalDataMap$1","defineRedirectDescriptor","original","$$1","wrapperClassCache","originalEvent","prototype","wrapper","defineWrapper","BaseEventWrapper","originalPrototype","CustomEventWrapper","d","createListener","callback","capture","passive","once","signal","signalListener","setRemoved","listener","isCapture","isPassive","isOnce","isRemoved","invokeCallback","target","thrownError","findIndexOfListener","listeners","addListener","list","removeListener","index","removeListenerAt","disableCow","_","createListenerListMap","ensureListenerList","listenerMap","EventTarget","internalDataMap$2","type0","callback0","options0","$$2","normalizeAddOptions","warnDuplicate","normalizeOptions","eventData","cow","options","assertCallback","keys$1","getEventAttributeValue","_b","setEventAttributeValue","upsertEventAttributeListener","removeEventAttributeListener","defineEventAttributeCallback","defineCustomEventTarget","types","CustomEventTarget","defineEventAttribute","_eventClass"],"mappings":"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","x_google_ignoreList":[0]}