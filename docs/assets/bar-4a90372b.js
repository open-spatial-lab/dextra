import{h as d,i as b,b as m,z as M,A as v,f as p,j as x,M as B,n as y,c as o,d as L,e as T,g as S,k as u,l as I}from"./Plot-e459c07e.js";import{m as X,a as Y,b as k,c as A}from"./stack-9d0bf26d.js";class f extends B{constructor(t,a,e={},s){super(t,a,e,s);const{inset:r=0,insetTop:i=r,insetRight:n=r,insetBottom:h=r,insetLeft:l=r,rx:g,ry:w}=e;this.insetTop=y(i),this.insetRight=y(n),this.insetBottom=y(h),this.insetLeft=y(l),this.rx=o(g,"auto"),this.ry=o(w,"auto")}render(t,a,e,s,r){const{rx:i,ry:n}=this;return L("svg:g",r).call(T,this,s,r).call(this._transform,this,a).call(h=>h.selectAll().data(t).enter().append("rect").call(S,this).attr("x",this._x(a,e,s)).attr("width",this._width(a,e,s)).attr("y",this._y(a,e,s)).attr("height",this._height(a,e,s)).call(u,"rx",i).call(u,"ry",n).call(I,this,e)).node()}_x(t,{x:a},{marginLeft:e}){const{insetLeft:s}=this;return a?r=>a[r]+s:e+s}_y(t,{y:a},{marginTop:e}){const{insetTop:s}=this;return a?r=>a[r]+s:e+s}_width({x:t},{x:a},{marginRight:e,marginLeft:s,width:r}){const{insetLeft:i,insetRight:n}=this,h=a&&t?t.bandwidth():r-e-s;return Math.max(0,h-i-n)}_height({y:t},{y:a},{marginTop:e,marginBottom:s,height:r}){const{insetTop:i,insetBottom:n}=this,h=a&&t?t.bandwidth():r-e-s;return Math.max(0,h-i-n)}}const _={ariaLabel:"bar"};class R extends f{constructor(t,a={}){const{x1:e,x2:s,y:r}=a;super(t,{x1:{value:e,scale:"x"},x2:{value:s,scale:"x"},y:{value:r,scale:"y",type:"band",optional:!0}},a,_)}_transform(t,a,{x:e}){t.call(p,a,{x:e},0,0)}_x({x:t},{x1:a,x2:e},{marginLeft:s}){const{insetLeft:r}=this;return x(t)?s+r:i=>Math.min(a[i],e[i])+r}_width({x:t},{x1:a,x2:e},{marginRight:s,marginLeft:r,width:i}){const{insetLeft:n,insetRight:h}=this;return x(t)?i-s-r-n-h:l=>Math.max(0,Math.abs(e[l]-a[l])-n-h)}}class C extends f{constructor(t,a={}){const{x:e,y1:s,y2:r}=a;super(t,{y1:{value:s,scale:"y"},y2:{value:r,scale:"y"},x:{value:e,scale:"x",type:"band",optional:!0}},a,_)}_transform(t,a,{y:e}){t.call(p,a,{y:e},0,0)}_y({y:t},{y1:a,y2:e},{marginTop:s}){const{insetTop:r}=this;return x(t)?s+r:i=>Math.min(a[i],e[i])+r}_height({y:t},{y1:a,y2:e},{marginTop:s,marginBottom:r,height:i}){const{insetTop:n,insetBottom:h}=this;return x(t)?i-s-r-n-h:l=>Math.max(0,Math.abs(e[l]-a[l])-n-h)}}function D(c,t={}){return d(t)||(t={...t,y:b,x2:m}),new R(c,X(M(Y(t))))}function O(c,t={}){return d(t)||(t={...t,x:b,y2:m}),new C(c,k(v(A(t))))}export{D as a,O as b};
//# sourceMappingURL=bar-4a90372b.js.map
