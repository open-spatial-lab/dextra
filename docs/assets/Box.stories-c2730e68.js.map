{"version":3,"file":"Box.stories-c2730e68.js","sources":["../../node_modules/d3-array/src/rank.js","../../node_modules/@observablehq/plot/src/transforms/map.js","../../node_modules/@observablehq/plot/src/marks/tick.js","../../node_modules/@observablehq/plot/src/marks/box.js","../../dextra-components/src/components/marks/Box/src/Box.ts"],"sourcesContent":["import ascending from \"./ascending.js\";\nimport {ascendingDefined, compareDefined} from \"./sort.js\";\n\nexport default function rank(values, valueof = ascending) {\n  if (typeof values[Symbol.iterator] !== \"function\") throw new TypeError(\"values is not iterable\");\n  let V = Array.from(values);\n  const R = new Float64Array(V.length);\n  if (valueof.length !== 2) V = V.map(valueof), valueof = ascending;\n  const compareIndex = (i, j) => valueof(V[i], V[j]);\n  let k, r;\n  values = Uint32Array.from(V, (_, i) => i);\n  // Risky chaining due to Safari 14 https://github.com/d3/d3-array/issues/123\n  values.sort(valueof === ascending ? (i, j) => ascendingDefined(V[i], V[j]) : compareDefined(compareIndex));\n  values.forEach((j, i) => {\n      const c = compareIndex(j, k === undefined ? j : k);\n      if (c >= 0) {\n        if (k === undefined || c > 0) k = j, r = i;\n        R[j] = r;\n      } else {\n        R[j] = NaN;\n      }\n    });\n  return R;\n}\n","import {count, group, rank} from \"d3\";\nimport {column, identity, isObject, maybeInput, maybeZ, taker, valueof} from \"../options.js\";\nimport {basic} from \"./basic.js\";\n\nexport function mapX(mapper, options = {}) {\n  let {x, x1, x2} = options;\n  if (x === undefined && x1 === undefined && x2 === undefined) options = {...options, x: (x = identity)};\n  const outputs = {};\n  if (x != null) outputs.x = mapper;\n  if (x1 != null) outputs.x1 = mapper;\n  if (x2 != null) outputs.x2 = mapper;\n  return map(outputs, options);\n}\n\nexport function mapY(mapper, options = {}) {\n  let {y, y1, y2} = options;\n  if (y === undefined && y1 === undefined && y2 === undefined) options = {...options, y: (y = identity)};\n  const outputs = {};\n  if (y != null) outputs.y = mapper;\n  if (y1 != null) outputs.y1 = mapper;\n  if (y2 != null) outputs.y2 = mapper;\n  return map(outputs, options);\n}\n\nexport function map(outputs = {}, options = {}) {\n  const z = maybeZ(options);\n  const channels = Object.entries(outputs).map(([key, map]) => {\n    const input = maybeInput(key, options);\n    if (input == null) throw new Error(`missing channel: ${key}`);\n    const [output, setOutput] = column(input);\n    return {key, input, output, setOutput, map: maybeMap(map)};\n  });\n  return {\n    ...basic(options, (data, facets) => {\n      const Z = valueof(data, z);\n      const X = channels.map(({input}) => valueof(data, input));\n      const MX = channels.map(({setOutput}) => setOutput(new Array(data.length)));\n      for (const facet of facets) {\n        for (const I of Z ? group(facet, (i) => Z[i]).values() : [facet]) {\n          channels.forEach(({map}, i) => map.mapIndex(I, X[i], MX[i]));\n        }\n      }\n      return {data, facets};\n    }),\n    ...Object.fromEntries(channels.map(({key, output}) => [key, output]))\n  };\n}\n\nfunction maybeMap(map) {\n  if (map == null) throw new Error(\"missing map\");\n  if (typeof map.mapIndex === \"function\") return map;\n  if (typeof map.map === \"function\" && isObject(map)) return mapMap(map); // N.B. array.map\n  if (typeof map === \"function\") return mapFunction(taker(map));\n  switch (`${map}`.toLowerCase()) {\n    case \"cumsum\":\n      return mapCumsum;\n    case \"rank\":\n      return mapFunction((I, V) => rank(I, (i) => V[i]));\n    case \"quantile\":\n      return mapFunction((I, V) => rankQuantile(I, (i) => V[i]));\n  }\n  throw new Error(`invalid map: ${map}`);\n}\n\nfunction mapMap(map) {\n  console.warn(\"deprecated map interface; implement mapIndex instead.\");\n  return {mapIndex: map.map.bind(map)};\n}\n\nfunction rankQuantile(I, f) {\n  const n = count(I, f) - 1;\n  return rank(I, f).map((r) => r / n);\n}\n\nfunction mapFunction(f) {\n  return {\n    mapIndex(I, S, T) {\n      const M = f(I, S);\n      if (M.length !== I.length) throw new Error(\"map function returned a mismatched length\");\n      for (let i = 0, n = I.length; i < n; ++i) T[I[i]] = M[i];\n    }\n  };\n}\n\nconst mapCumsum = {\n  mapIndex(I, S, T) {\n    let sum = 0;\n    for (const i of I) T[i] = sum += S[i];\n  }\n};\n","import {create} from \"../context.js\";\nimport {identity, number} from \"../options.js\";\nimport {Mark} from \"../mark.js\";\nimport {applyMarkers, markers} from \"../marker.js\";\nimport {applyDirectStyles, applyIndirectStyles, applyTransform, applyChannelStyles, offset} from \"../style.js\";\n\nconst defaults = {\n  ariaLabel: \"tick\",\n  fill: null,\n  stroke: \"currentColor\"\n};\n\nclass AbstractTick extends Mark {\n  constructor(data, channels, options) {\n    super(data, channels, options, defaults);\n    markers(this, options);\n  }\n  render(index, scales, channels, dimensions, context) {\n    return create(\"svg:g\", context)\n      .call(applyIndirectStyles, this, dimensions, context)\n      .call(this._transform, this, scales)\n      .call((g) =>\n        g\n          .selectAll()\n          .data(index)\n          .enter()\n          .append(\"line\")\n          .call(applyDirectStyles, this)\n          .attr(\"x1\", this._x1(scales, channels, dimensions))\n          .attr(\"x2\", this._x2(scales, channels, dimensions))\n          .attr(\"y1\", this._y1(scales, channels, dimensions))\n          .attr(\"y2\", this._y2(scales, channels, dimensions))\n          .call(applyChannelStyles, this, channels)\n          .call(applyMarkers, this, channels, context)\n      )\n      .node();\n  }\n}\n\nexport class TickX extends AbstractTick {\n  constructor(data, options = {}) {\n    const {x, y, inset = 0, insetTop = inset, insetBottom = inset} = options;\n    super(\n      data,\n      {\n        x: {value: x, scale: \"x\"},\n        y: {value: y, scale: \"y\", type: \"band\", optional: true}\n      },\n      options\n    );\n    this.insetTop = number(insetTop);\n    this.insetBottom = number(insetBottom);\n  }\n  _transform(selection, mark, {x}) {\n    selection.call(applyTransform, mark, {x}, offset, 0);\n  }\n  _x1(scales, {x: X}) {\n    return (i) => X[i];\n  }\n  _x2(scales, {x: X}) {\n    return (i) => X[i];\n  }\n  _y1({y}, {y: Y}, {marginTop}) {\n    const {insetTop} = this;\n    return Y && y ? (i) => Y[i] + insetTop : marginTop + insetTop;\n  }\n  _y2({y}, {y: Y}, {height, marginBottom}) {\n    const {insetBottom} = this;\n    return Y && y ? (i) => Y[i] + y.bandwidth() - insetBottom : height - marginBottom - insetBottom;\n  }\n}\n\nexport class TickY extends AbstractTick {\n  constructor(data, options = {}) {\n    const {x, y, inset = 0, insetRight = inset, insetLeft = inset} = options;\n    super(\n      data,\n      {\n        y: {value: y, scale: \"y\"},\n        x: {value: x, scale: \"x\", type: \"band\", optional: true}\n      },\n      options\n    );\n    this.insetRight = number(insetRight);\n    this.insetLeft = number(insetLeft);\n  }\n  _transform(selection, mark, {y}) {\n    selection.call(applyTransform, mark, {y}, 0, offset);\n  }\n  _x1({x}, {x: X}, {marginLeft}) {\n    const {insetLeft} = this;\n    return X && x ? (i) => X[i] + insetLeft : marginLeft + insetLeft;\n  }\n  _x2({x}, {x: X}, {width, marginRight}) {\n    const {insetRight} = this;\n    return X && x ? (i) => X[i] + x.bandwidth() - insetRight : width - marginRight - insetRight;\n  }\n  _y1(scales, {y: Y}) {\n    return (i) => Y[i];\n  }\n  _y2(scales, {y: Y}) {\n    return (i) => Y[i];\n  }\n}\n\nexport function tickX(data, {x = identity, ...options} = {}) {\n  return new TickX(data, {...options, x});\n}\n\nexport function tickY(data, {y = identity, ...options} = {}) {\n  return new TickY(data, {...options, y});\n}\n","import {max, min, quantile} from \"d3\";\nimport {marks} from \"../mark.js\";\nimport {identity} from \"../options.js\";\nimport {groupX, groupY, groupZ} from \"../transforms/group.js\";\nimport {map} from \"../transforms/map.js\";\nimport {barX, barY} from \"./bar.js\";\nimport {dot} from \"./dot.js\";\nimport {ruleX, ruleY} from \"./rule.js\";\nimport {tickX, tickY} from \"./tick.js\";\n\n// Returns a composite mark for producing a horizontal box plot, applying the\n// necessary statistical transforms. The boxes are grouped by y, if present.\nexport function boxX(\n  data,\n  {\n    x = identity,\n    y = null,\n    fill = \"#ccc\",\n    fillOpacity,\n    stroke = \"currentColor\",\n    strokeOpacity,\n    strokeWidth = 2,\n    sort,\n    ...options\n  } = {}\n) {\n  const group = y != null ? groupY : groupZ;\n  return marks(\n    ruleY(data, group({x1: loqr1, x2: hiqr2}, {x, y, stroke, strokeOpacity, ...options})),\n    barX(data, group({x1: \"p25\", x2: \"p75\"}, {x, y, fill, fillOpacity, ...options})),\n    tickX(data, group({x: \"p50\"}, {x, y, stroke, strokeOpacity, strokeWidth, sort, ...options})),\n    dot(data, map({x: oqr}, {x, y, z: y, stroke, strokeOpacity, ...options}))\n  );\n}\n\n// Returns a composite mark for producing a vertical box plot, applying the\n// necessary statistical transforms. The boxes are grouped by x, if present.\nexport function boxY(\n  data,\n  {\n    y = identity,\n    x = null,\n    fill = \"#ccc\",\n    fillOpacity,\n    stroke = \"currentColor\",\n    strokeOpacity,\n    strokeWidth = 2,\n    sort,\n    ...options\n  } = {}\n) {\n  const group = x != null ? groupX : groupZ;\n  return marks(\n    ruleX(data, group({y1: loqr1, y2: hiqr2}, {x, y, stroke, strokeOpacity, ...options})),\n    barY(data, group({y1: \"p25\", y2: \"p75\"}, {x, y, fill, fillOpacity, ...options})),\n    tickY(data, group({y: \"p50\"}, {x, y, stroke, strokeOpacity, strokeWidth, sort, ...options})),\n    dot(data, map({y: oqr}, {x, y, z: x, stroke, strokeOpacity, ...options}))\n  );\n}\n\n// A map function that returns only outliers, returning NaN for non-outliers\nfunction oqr(values) {\n  const r1 = loqr1(values);\n  const r2 = hiqr2(values);\n  return values.map((v) => (v < r1 || v > r2 ? v : NaN));\n}\n\nfunction loqr1(values) {\n  const lo = quartile1(values) * 2.5 - quartile3(values) * 1.5;\n  return min(values, (d) => (d >= lo ? d : NaN));\n}\n\nfunction hiqr2(values) {\n  const hi = quartile3(values) * 2.5 - quartile1(values) * 1.5;\n  return max(values, (d) => (d <= hi ? d : NaN));\n}\n\nfunction quartile1(values) {\n  return quantile(values, 0.25);\n}\n\nfunction quartile3(values) {\n  return quantile(values, 0.75);\n}\n","import { customElement, property } from \"lit/decorators.js\";\nimport { PlotMark } from \"../../PlotMark/src/PlotMark\";\nimport * as Plot from \"@observablehq/plot\";\nimport { safeCustomElement } from \"../../../core/decorators/safeCustomElement\";\n\n@safeCustomElement(\"osl-box\")\nexport class OslBox extends PlotMark {\n  mark = \"box\"\n\n  @property({ type: String })\n  x?: string;\n\n  @property({ type: String })\n  y?: string;\n\n  @property({ type: String })\n  direction?: \"horizontal\" | \"vertical\" = \"vertical\";\n\n  markOptions: (keyof this)[] = [\"x\", \"y\", \"direction\"];\n\n  public get plot() {\n    const innerData = this?.currentResults;\n    const options = this.allOptions;\n\n    return (overrideData?: any, overrideOptions?: {}) => {\n      const data = innerData?.length ? innerData : overrideData;\n      // if (this.boxY) {\n      //   return Plot.linearRegressionX(data, { ...overrideOptions, ...options});\n      // } else {\n      //   return Plot.linearRegressionY(data, { ...overrideOptions, ...options});\n      // }    };\n      switch (this.direction) {\n        case \"horizontal\":\n          return Plot.boxX(data, {...overrideOptions, ...options});\n        case \"vertical\":\n          return Plot.boxY(data, {...overrideOptions, ...options});\n        default:\n          return Plot.boxY(data, {...overrideOptions, ...options});\n      }\n  }\n}\n  render() {\n    return null\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"osl-box\": OslBox;\n  }\n}"],"names":["rank","values","valueof","ascending","V","R","compareIndex","j","k","r","_","i","ascendingDefined","compareDefined","map","outputs","options","z","maybeZ","channels","key","input","maybeInput","output","setOutput","column","maybeMap","basic","data","facets","Z","X","MX","facet","I","group","isObject","mapMap","mapFunction","taker","mapCumsum","rankQuantile","f","n","count","S","T","M","sum","defaults","AbstractTick","Mark","markers","index","scales","dimensions","context","create","applyIndirectStyles","g","applyDirectStyles","applyChannelStyles","applyMarkers","TickX","x","y","inset","insetTop","insetBottom","number","selection","mark","applyTransform","offset","Y","marginTop","height","marginBottom","TickY","insetRight","insetLeft","marginLeft","width","marginRight","tickX","identity","tickY","boxX","fill","fillOpacity","stroke","strokeOpacity","strokeWidth","sort","groupY","groupZ","marks","ruleY","loqr1","hiqr2","barX","dot","oqr","boxY","groupX","ruleX","barY","r1","r2","v","lo","quartile1","quartile3","min","d","hi","max","quantile","OslBox","PlotMark","innerData","overrideData","overrideOptions","Plot.boxX","Plot.boxY","__decorateClass","property","safeCustomElement"],"mappings":"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","x_google_ignoreList":[0,1,2,3]}