{"version":3,"file":"Stat-cc7eb88d.js","sources":["../../dextra-components/src/components/Stat/src/Stat.ts"],"sourcesContent":["import { css, html } from \"lit\";\nimport { property } from \"lit/decorators.js\";\nimport { OslData } from \"../../data/src/Data\";\nimport { safeCustomElement } from \"../../core/decorators/safeCustomElement\";\nimport \"@spectrum-web-components/help-text/sp-help-text.js\";\nimport { getFormatter, getFormatterPreset, FormatterPresets } from \"../../core/utils/numberFormatter\";\n\n@safeCustomElement(\"osl-stat\")\nexport class OslStat extends OslData {\n  @property({ type: String })\n  property?: string;\n  @property({ type: String })\n  subtitle?: string;\n  @property({ type: String })\n  format?: FormatterPresets;\n  @property({ type: String })\n  statSize: string = \"3rem\";\n\n  formatter?: Intl.NumberFormat;\n  \n\n  getStat() {\n    console.log('getStat', this.currentResults, this.property)\n    if ((Array.isArray(this.currentResults) && !this.currentResults?.length) || !this.property) return undefined;\n    const data = Array.isArray(this.currentResults)\n      ? this.currentResults[0]\n      : this.currentResults;\n    const value = data[this.property as keyof typeof data];\n    return this.formatter ? this.formatter.format(value) : value;\n  }\n\n  static get styles() {\n    return css`\n      :host {\n        flex-grow:1;\n      }\n      .card {\n        padding: var(--spectrum-global-dimension-size-200)\n          var(--spectrum-global-dimension-size-300);\n        border: 1px solid var(--spectrum-global-color-gray-200);\n        flex-grow:1;\n      }\n      .card sp-help-text {\n        padding: 0;\n        margin: 0;\n        font-weight: normal;\n        font-size: 1rem;\n      }\n      .stat {\n        margin: 0;\n        padding: 0;\n        font-size: 3rem;\n        font-weight: bold;\n      }\n    `;\n  }\n  connectedCallback() {\n    super.connectedCallback();\n    if (this.format) {\n      this.formatter = getFormatter(this.format);\n    }\n  }\n\n  template() {\n    const statData = this.getStat();\n    if (statData === undefined) return html``;\n\n    return html`\n      <div class=\"card\">\n        <sp-help-text>${this.title}</sp-help-text>\n        <p class=\"stat\" style=\"font-size: ${this.statSize}\">${statData}</p>\n        <sp-help-text>${this.subtitle}</sp-help-text>\n      </div>\n    `;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"osl-stat\": OslStat;\n  }\n}\n"],"names":["OslStat","OslData","_a","value","css","getFormatter","statData","html","__decorateClass","property","safeCustomElement"],"mappings":"4aAQa,IAAAA,EAAN,cAAsBC,CAAQ,CAA9B,aAAA,CAAA,MAAA,GAAA,SAAA,EAQc,KAAA,SAAA,MAAA,CAKnB,SAAU,OAEH,GADL,QAAQ,IAAI,UAAW,KAAK,eAAgB,KAAK,QAAQ,EACpD,MAAM,QAAQ,KAAK,cAAc,GAAK,GAACC,EAAA,KAAK,iBAAL,MAAAA,EAAqB,SAAW,CAAC,KAAK,SAAiB,OAI7F,MAAAC,GAHO,MAAM,QAAQ,KAAK,cAAc,EAC1C,KAAK,eAAe,CAAC,EACrB,KAAK,gBACU,KAAK,QAA6B,EACrD,OAAO,KAAK,UAAY,KAAK,UAAU,OAAOA,CAAK,EAAIA,CACzD,CAEA,WAAW,QAAS,CACX,OAAAC;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA;AAAAA,KAuBT,CACA,mBAAoB,CAClB,MAAM,kBAAkB,EACpB,KAAK,SACF,KAAA,UAAYC,EAAa,KAAK,MAAM,EAE7C,CAEA,UAAW,CACH,MAAAC,EAAW,KAAK,UACtB,OAAIA,IAAa,OAAkBC,IAE5BA;AAAAA;AAAAA,wBAEa,KAAK;AAAA,4CACe,KAAK,aAAaD;AAAA,wBACtC,KAAK;AAAA;AAAA,KAG3B,CACF,EAjEEE,EAAA,CADCC,EAAS,CAAE,KAAM,OAAQ,CAAA,EADfT,EAEX,UAAA,WAAA,CAAA,EAEAQ,EAAA,CADCC,EAAS,CAAE,KAAM,OAAQ,CAAA,EAHfT,EAIX,UAAA,WAAA,CAAA,EAEAQ,EAAA,CADCC,EAAS,CAAE,KAAM,OAAQ,CAAA,EALfT,EAMX,UAAA,SAAA,CAAA,EAEAQ,EAAA,CADCC,EAAS,CAAE,KAAM,OAAQ,CAAA,EAPfT,EAQX,UAAA,WAAA,CAAA,EARWA,EAANQ,EAAA,CADNE,EAAkB,UAAU,CAAA,EAChBV,CAAA"}