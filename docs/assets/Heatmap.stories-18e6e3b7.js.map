{"version":3,"file":"Heatmap.stories-18e6e3b7.js","sources":["../../dextra-components/src/components/marks/Heatmap/src/Heatmap.ts"],"sourcesContent":["import { customElement, property } from \"lit/decorators.js\";\nimport { PlotMark } from \"../../PlotMark/src/PlotMark\";\nimport * as Plot from \"@observablehq/plot\";\nimport { ChannelValueBinSpec, BinOptions } from \"@observablehq/plot\";\nimport { safeCustomElement } from \"../../../core/decorators/safeCustomElement\";\n\ntype BinInputs = {\n  x?: ChannelValueBinSpec;\n  y?: ChannelValueBinSpec;\n} & BinOptions;\n\n@safeCustomElement(\"osl-heatmap-plot\")\nexport class HeatmapPlot extends PlotMark {\n  mark = \"heatmap\";\n\n  @property({ type: String })\n  x?: BinInputs[\"x\"];\n\n  @property({ type: String })\n  y?: BinInputs[\"y\"];\n\n  markOptions: (keyof this)[] = [\"x\", \"y\"];\n\n  @property({ type: Boolean })\n  transparent?: boolean = true;\n\n  public get plot() {\n    const innerData = this?.currentResults;\n    const options = this.allOptions;\n    // const useTransparent = this.transparent;\n\n    return (overrideData?: any, overrideOptions?: {}) => {\n      const data = innerData?.length ? innerData : overrideData;\n      const bin = Plot.bin(\n        { fillOpacity: \"count\" },\n        { ...overrideOptions, ...options }\n      );\n      return Plot.rect(data, bin);\n    };\n  }\n\n  render() {\n    return null;\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    \"osl-heatmap-plot\": HeatmapPlot;\n  }\n}\n"],"names":["HeatmapPlot","PlotMark","innerData","options","overrideData","overrideOptions","data","bin","Plot.bin","Plot.rect","__decorateClass","property","safeCustomElement"],"mappings":"knBAYa,IAAAA,EAAN,cAA0BC,CAAS,CAAnC,aAAA,CAAA,MAAA,GAAA,SAAA,EACE,KAAA,KAAA,UAQuB,KAAA,YAAA,CAAC,IAAK,GAAG,EAGf,KAAA,YAAA,EAAA,CAExB,IAAW,MAAO,CAChB,MAAMC,EAAY,uBAAM,eAClBC,EAAU,KAAK,WAGd,MAAA,CAACC,EAAoBC,IAAyB,CAC7C,MAAAC,EAAOJ,GAAA,MAAAA,EAAW,OAASA,EAAYE,EACvCG,EAAMC,EACV,CAAE,YAAa,OAAQ,EACvB,CAAE,GAAGH,EAAiB,GAAGF,CAAQ,CAAA,EAE5B,OAAAM,EAAUH,EAAMC,CAAG,CAAA,CAE9B,CAEA,QAAS,CACA,OAAA,IACT,CACF,EA5BEG,EAAA,CADCC,EAAS,CAAE,KAAM,OAAQ,CAAA,EAHfX,EAIX,UAAA,IAAA,CAAA,EAGAU,EAAA,CADCC,EAAS,CAAE,KAAM,OAAQ,CAAA,EANfX,EAOX,UAAA,IAAA,CAAA,EAKAU,EAAA,CADCC,EAAS,CAAE,KAAM,QAAS,CAAA,EAXhBX,EAYX,UAAA,cAAA,CAAA,EAZWA,EAANU,EAAA,CADNE,EAAkB,kBAAkB,CAAA,EACxBZ,CAAA;;;;;;;;;;;;;;"}